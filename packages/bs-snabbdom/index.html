<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/reset.css" rel="stylesheet"/><meta data-react-helmet="true" content="Package index for the ReasonML/BuckleScript ecosystem" name="description"/><title data-react-helmet="true">bs-snabbdom | redex</title><link data-react-helmet="true" href="/highlight.css" rel="stylesheet"/><style>.css-1tsxiyg,[data-css-1tsxiyg]{position:relative;flex:1;-webkit-flex:1;}.css-1n3mti3,[data-css-1n3mti3]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;background-color:white;font-size:1.2em;width:100%;align-items:center;padding:0 .5em;-webkit-box-align:center;-webkit-align-items:center;}.css-3xwse6,[data-css-3xwse6]{fill:#dd4c39;opacity:0.75;margin:0.5em;}.css-h28iaj,[data-css-h28iaj]{padding:.75em .25em;width:100%;color:#dd4c39;}.css-h28iaj::-webkit-input-placeholder,[data-css-h28iaj]::-webkit-input-placeholder{color:#dd4c39;}.css-h28iaj::-moz-placeholder,[data-css-h28iaj]::-moz-placeholder{color:#dd4c39;}.css-h28iaj::-ms-input-placeholder,[data-css-h28iaj]::-ms-input-placeholder{color:#dd4c39;}.css-h28iaj::placeholder,[data-css-h28iaj]::placeholder{color:#dd4c39;}.css-17jpuwa,[data-css-17jpuwa]{position:absolute;z-index:10;margin-top:.5ex;width:100%;box-shadow:1ex 1ex 1em 0 rgba(0, 0, 0, .1);color:#444;}.css-17jpuwa > div,[data-css-17jpuwa] > div{margin:0px;border-top:1px solid #eee ;}.css-1y9oups,[data-css-1y9oups]{position:relative;display:inline-block;z-index:50;}.css-16r2wsi,[data-css-16r2wsi]{position:relative;font-size:0.85em;white-space:nowrap;cursor:help;}.css-16r2wsi > .popover,[data-css-16r2wsi] > .popover{display:block;position:absolute;bottom:100%;z-index:10;background-color:white;box-shadow:1px 1px 0px 0px rgba(0, 0, 0, 0.1);}.css-16r2wsi:hover > .popover,[data-css-16r2wsi]:hover > .popover{display:block;}.css-1rq3syy,[data-css-1rq3syy]{margin-left:0.25em;transform:translateY(-1px);-webkit-transform:translateY(-1px);}*{box-sizing:border-box;}*:focus{outline-style:none;}body{line-height:inherit;color:#444;}h1, h2, h3{line-height:1.1em;font-weight:normal;}a{color:inherit;}button, input, select{background:none;border:none;font:inherit;}ol, ul{list-style:none;margin:0px;padding:0px;}html{font-size:15px;line-height:1.25em;font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;box-sizing:border-box;overflow-y:scroll;}html, body, #PhenomicRoot{background-color:whiteSmoke;min-height:100%;margin:0px;}.css-uhxnxi,[data-css-uhxnxi]{margin:0 auto;max-width:960px;width:100%;}.css-c2fbi5,[data-css-c2fbi5]{height:1em;opacity:0.75;}.css-1l4v2hy,[data-css-1l4v2hy]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}.css-1l4v2hy p,[data-css-1l4v2hy] p{margin-bottom:1.45rem;}.css-1yu5lzr,[data-css-1yu5lzr]{margin:1.45rem;}.css-1yu5lzr > div,[data-css-1yu5lzr] > div{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;}.css-14dfss7,[data-css-14dfss7]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;align-items:center;color:#dd4c39;margin:0px;font-variant:small-caps;font-size:1.5em;line-height:1.1em;-webkit-box-align:center;-webkit-align-items:center;}.css-14dfss7:hover > svg,[data-css-14dfss7]:hover > svg{transform:rotateZ(15deg);cursor:pointer;-webkit-transform:rotateZ(15deg);}.css-xovze3,[data-css-xovze3]{height:1.5em;width:1.5em;fill:#dd4c39;margin:0 1em;transition:-webkit-transform 100ms ease-in-out 0ms ease 0ms,transform 100ms ease-in-out 0ms ease 0ms;-webkit-transition:-webkit-transform 100ms ease-in-out 0ms ease 0ms,transform 100ms ease-in-out 0ms ease 0ms;-moz-transition:transform 100ms ease-in-out 0ms ease 0ms;}.css-b8z1fx,[data-css-b8z1fx]{margin-bottom:1.45em;}.css-1i32x9d,[data-css-1i32x9d]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;justify-content:flex-end;align-items:baseline;-webkit-box-pack:end;-webkit-justify-content:flex-end;-webkit-box-align:baseline;-webkit-align-items:baseline;}.css-1i32x9d > *,[data-css-1i32x9d] > *{margin-left:1em;}.css-1kdo33z,[data-css-1kdo33z]{padding:1em 0 0;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;align-items:baseline;-webkit-box-align:baseline;-webkit-align-items:baseline;}.css-1js2gtb,[data-css-1js2gtb]{font-size:1.5rem;font-weight:bold;text-decoration:none;line-height:1.45em;}.css-1js2gtb:hover,[data-css-1js2gtb]:hover{text-decoration:underline;}.css-qkolrv,[data-css-qkolrv]{font-size:0.85em;font-style:italic;margin-left:0.5em;opacity:0.75;}.css-1hx69qk,[data-css-1hx69qk]{margin-bottom:0.5em;text-overflow:ellipsis;overflow:hidden;opacity:0.75;}.css-u7agnl span,[data-css-u7agnl] span{font-size:0.85em;background-color:#rgba(255, 255, 255, .1);padding:0 1ex;opacity:1;}.css-u7agnl span:hover,[data-css-u7agnl] span:hover{background-color:#rgba(255, 255, 255, .2);cursor:pointer;}.css-18pdsvr,[data-css-18pdsvr]{opacity:0.25;}.css-1k72ztx,[data-css-1k72ztx]{font-size:0.85em;white-space:nowrap;}.css-10scxmb,[data-css-10scxmb]{font-size:0.85em;white-space:nowrap;border:1px solid white ;padding:0 1ex;}.css-62bqch,[data-css-62bqch]{margin-top:3em;}.css-62bqch > a,[data-css-62bqch] > a{text-decoration:none;margin-right:2em;font-variant:small-caps;}.css-62bqch > a:hover,[data-css-62bqch] > a:hover{text-decoration:underline;}.css-62bqch > a:not([href]),[data-css-62bqch] > a:not([href]){text-decoration:none;opacity:0.25;}.css-1yvpfy9,[data-css-1yvpfy9]{background-color:white;padding:2em 4em;}.css-1yvpfy9 h1,[data-css-1yvpfy9] h1{font-size:2.25rem;font-weight:bold;line-height:1.1em;margin-bottom:1.45rem;}.css-1yvpfy9 h2,[data-css-1yvpfy9] h2{font-size:1.62671rem;font-weight:bold;line-height:1.1em;margin-bottom:1.45rem;}.css-1yvpfy9 h3,[data-css-1yvpfy9] h3{font-size:1.38316rem;font-weight:bold;line-height:1.1em;margin-bottom:1.45rem;}.css-1yvpfy9 p,[data-css-1yvpfy9] p{margin-bottom:1.45rem;}.css-1yvpfy9 p *:last-child,[data-css-1yvpfy9] p *:last-child{margin-bottom:0px;}.css-1yvpfy9 b,[data-css-1yvpfy9] b, .css-1yvpfy9 strong, [data-css-1yvpfy9] strong{font-weight:bold;}.css-1yvpfy9 i,[data-css-1yvpfy9] i, .css-1yvpfy9 em, [data-css-1yvpfy9] em{font-style:italic;}.css-1yvpfy9 ol,[data-css-1yvpfy9] ol, .css-1yvpfy9 ul, [data-css-1yvpfy9] ul{margin:0px;margin-left:1.45rem;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}.css-1yvpfy9 li,[data-css-1yvpfy9] li{margin-bottom:0.725rem;}.css-1yvpfy9 li > ol,[data-css-1yvpfy9] li > ol, .css-1yvpfy9 li > ul, [data-css-1yvpfy9] li > ul{margin-left:1.45rem;margin-bottom:0.725rem;margin-top:0.725rem;}.css-1yvpfy9 li *:last-child,[data-css-1yvpfy9] li *:last-child{margin-bottom:0px;}.css-1yvpfy9 li > p,[data-css-1yvpfy9] li > p{margin-bottom:0.725rem;}.css-1yvpfy9 ol,[data-css-1yvpfy9] ol{list-style-type:decimal;}.css-1yvpfy9 ol li,[data-css-1yvpfy9] ol li{padding-left:0px;}.css-1yvpfy9 ul,[data-css-1yvpfy9] ul{list-style-type:disc;}.css-1yvpfy9 ul li,[data-css-1yvpfy9] ul li{padding-left:0px;}.css-1yvpfy9 code,[data-css-1yvpfy9] code{background:hsla(0, 0%, 0%, 0.04);font-family:'SFMono-Regular', Consolas, 'Roboto Mono', 'Droid Sans Mono', 'Liberation Mono', Menlo, Courier, monospace;font-size:0.85rem;line-height:1.45rem;padding:.2em 0;}.css-1yvpfy9 pre,[data-css-1yvpfy9] pre{margin-bottom:1.45rem;font-size:0.85rem;line-height:1.42rem;background:hsla(0, 0%, 0%, 0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem;}.css-1yvpfy9 pre code,[data-css-1yvpfy9] pre code{background:none;line-height:1.42em;}.css-1yvpfy9 a,[data-css-1yvpfy9] a{color:#dd4c39;text-decoration:none;}.css-1yvpfy9 a:hover,[data-css-1yvpfy9] a:hover{text-decoration:underline;}.css-4o09c9,[data-css-4o09c9]{background-color:#ececec;margin-top:auto;}.css-4o09c9 > div,[data-css-4o09c9] > div{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;padding:1.45em;padding-top:1em;}.css-4o09c9 > div > section,[data-css-4o09c9] > div > section{opacity:0.65;transition:opacity 500ms ease 0ms;width:20%;-webkit-transition:opacity 500ms ease 0ms;-moz-transition:opacity 500ms ease 0ms;}.css-4o09c9 > div > section:last-child,[data-css-4o09c9] > div > section:last-child{opacity:0.75;margin-left:auto;align-self:flex-end;text-align:right;-webkit-align-self:flex-end;}.css-4o09c9 > div > section:hover,[data-css-4o09c9] > div > section:hover{opacity:1;}.css-4o09c9 > div > section h1,[data-css-4o09c9] > div > section h1{font-size:0.85em;text-transform:lowercase;font-variant:small-caps;opacity:0.5;margin-bottom:0.35em;}.css-4o09c9 > div > section a,[data-css-4o09c9] > div > section a{text-decoration:none;font-size:0.85rem;opacity:0.75;}.css-4o09c9 > div > section a:hover,[data-css-4o09c9] > div > section a:hover{opacity:1;}.css-l4x72g,[data-css-l4x72g]{background-color:#dd4c39;color:white;padding:2em 4em;}</style></head><body><div id="PhenomicRoot"><div class="css-1l4v2hy" data-reactroot=""><div class="css-1yu5lzr"><div class="css-uhxnxi"><div class="css-1tsxiyg"><div class="css-1n3mti3"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-3xwse6" style="vertical-align:middle"><g><path d="m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z"></path></g></svg><input class="css-h28iaj" placeholder="Search packages" value=""/></div><div class="css-17jpuwa"></div></div><a href="/" class="css-14dfss7"><svg class="css-xovze3"><use href="/logo.svg#logo" xlink:href="/logo.svg#logo" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></a></div></div><div class="css-uhxnxi"><div class="css-b8z1fx"><header class="css-l4x72g"><div class="css-1i32x9d"><div class="css-1y9oups"><span class="css-16r2wsi">26%<svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-1rq3syy" style="vertical-align:middle"><g><path d="m16.6 28.4l13.4-13.4-2.3-2.3-11.1 10.9-4.3-4.3-2.3 2.3z m3.4-26.8l15 6.8v10c0 9.2-6.4 17.8-15 20-8.6-2.2-15-10.8-15-20v-10z"></path></g></svg></span></div><div class="css-10scxmb">MIT</div><div class="css-1k72ztx"><time dateTime="2017-12-11T00:46:21.942Z" title="2017-12-11T00:46:21.942Z">2 weeks ago</time></div></div><div class="css-1kdo33z"><a href="/packages/bs-snabbdom" class="css-1js2gtb">bs-snabbdom</a><span class="css-qkolrv">0.4.2</span></div><div class="css-nil"><div class="css-1hx69qk">Bucklescript bindings to Snabbdom</div><div class="css-u7agnl"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="css-18pdsvr" style="vertical-align:middle"><g><path d="m9.5 10.5q0-1.2-0.8-1.9t-1.9-0.8-1.9 0.8-0.8 1.9 0.8 1.9 1.9 0.8 1.9-0.8 0.8-1.9z m22.7 12.2q0 1.1-0.8 1.9l-10.4 10.5q-0.8 0.8-2 0.8-1.1 0-1.9-0.8l-15.2-15.2q-0.8-0.8-1.3-2.2t-0.6-2.5v-8.8q0-1.1 0.8-1.9t1.9-0.8h8.9q1.1 0 2.5 0.5t2.1 1.4l15.2 15.2q0.8 0.8 0.8 1.9z m8.2 0q0 1.1-0.8 1.9l-10.5 10.5q-0.8 0.8-1.9 0.8-0.8 0-1.2-0.3t-1.2-1l10-10q0.8-0.8 0.8-1.9 0-1.1-0.8-1.9l-15.2-15.2q-0.8-0.8-2.1-1.4t-2.5-0.5h4.7q1.2 0 2.5 0.5t2.2 1.4l15.2 15.2q0.8 0.8 0.8 1.9z"></path></g></svg> - </div></div><div class="css-62bqch"><a>homepage</a><a>repository</a><a href="https://www.npmjs.com/package/bs-snabbdom">npm</a><a>issues</a><a>documentation</a></div></header><div class="css-1yvpfy9"><h1 id="bucklescript--snabbdom"><a aria-hidden="true" href="#bucklescript--snabbdom"><span class="icon icon-link"></span></a>Bucklescript + Snabbdom</h1>
<p>These are <em>experimental and incomplete</em> bindings to <a href="https://github.com/snabbdom/snabbdom">Snabbdom</a> for <a href="http://bucklescript.github.io/bucklescript/">Bucklescript</a>.</p>
<p><a href="https://jordwest.github.io/bs-snabbdom/">API Documentation</a></p>
<h2 id="why"><a aria-hidden="true" href="#why"><span class="icon icon-link"></span></a>Why</h2>
<p><a href="https://github.com/snabbdom/snabbdom">Snabbdom</a> is a small, fast, functional and extensible virtual DOM library that meshes really well with OCaml. Using something like Snabbdom in OCaml can bring you the best parts of languages like Elm plus a tiny bundle size, without a complete architectural overhaul.</p>
<p>If you're already working on a Snabbdom project in JavaScript, you can use these bindings to introduce OCaml for safer types and less runtime errors. Snabbdom components are just functions which return vnodes, so they're totally interchangeable between JavaScript and Bucklescript.</p>
<p>This project was inspired by <a href="https://github.com/OvermindDL1/bucklescript-tea">bucklescript-tea</a>, which provides an almost drop-in replacement of Elm for Bucklescript. I wanted something that provided a functional, type-safe declarative UI language, without adopting the entire Elm architecture. In contrast to Elm and bucklescript-tea, Snabbdom (and <code>bs-snabbdom</code>) does not provide a data model so you'll need to bring your own.</p>
<h2 id="introduction"><a aria-hidden="true" href="#introduction"><span class="icon icon-link"></span></a>Introduction</h2>
<p>This project adds basic OCaml bindings for Snabbdom functions, as well as an OCaml friendly replacement <code>h</code> function for constructing virtual dom nodes.</p>
<p>In JavaScript, you might write something like the following:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">var</span> click_handler = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Clicked!'</span>, e);
}

<span class="hljs-keyword">var</span> vnode = h(<span class="hljs-string">'ul.my-list'</span>, {<span class="hljs-attr">style</span>: {<span class="hljs-string">'list-style'</span>: <span class="hljs-string">'none'</span>}}, [
    h(<span class="hljs-string">'li'</span>, {<span class="hljs-attr">on</span>: {<span class="hljs-attr">click</span>: click_handler}}, <span class="hljs-string">'First item'</span>)]),
    h(<span class="hljs-string">'li'</span>, <span class="hljs-string">'Second item'</span>),
]);</code></pre>
<p>In OCaml with bs-snabbdom, the equivalent is:</p>
<pre><code class="hljs language-ocaml"><span class="hljs-keyword">let</span> click_handler e =
    <span class="hljs-type">Js</span>.log2 <span class="hljs-string">"Clicked!"</span> e
<span class="hljs-keyword">in</span>

<span class="hljs-keyword">let</span> vnode = h <span class="hljs-string">"ul.my-list"</span> [style <span class="hljs-string">"list-style"</span> <span class="hljs-string">"none"</span>; children [
    h <span class="hljs-string">"li"</span> [click click_handler; text <span class="hljs-string">"First item"</span>;]
    h <span class="hljs-string">"li"</span> [text <span class="hljs-string">"Second item"</span>];
]]</code></pre>
<p>The main difference when compared to JavaScript is that the <code>h</code> function here always takes two arguments:</p>
<pre><code class="hljs language-ocaml">h : <span class="hljs-built_in">string</span> -> vnode_transformer <span class="hljs-built_in">list</span> -> vnode</code></pre>
<p>The first parameter - the element selector (eg: <code>"ul.my-list"</code>) - remains the same.</p>
<p>The second parameter takes a list of transformer functions. These transformers describe how to alter the vnode - whether that's setting a property on the <code>data</code> object, adding children, or setting the node's text.</p>
<h2 id="getting-started"><a aria-hidden="true" href="#getting-started"><span class="icon icon-link"></span></a>Getting started</h2>
<h3 id="install-bucklescript"><a aria-hidden="true" href="#install-bucklescript"><span class="icon icon-link"></span></a>Install Bucklescript</h3>
<p>If you're starting from scratch, or adding bucklescript to an existing JavaScript project, you'll first need to install the Bucklescript compiler:</p>
<pre><code class="hljs language-sh">npm install bs-platform
./node_modules/.bin/bsb -init .</code></pre>
<p>See the <a href="http://bucklescript.github.io/bucklescript/">Bucklescript docs</a> for more details.</p>
<h3 id="install-bs-snabbdom-and-snabbdom"><a aria-hidden="true" href="#install-bs-snabbdom-and-snabbdom"><span class="icon icon-link"></span></a>Install <code>bs-snabbdom</code> and <code>snabbdom</code></h3>
<ol>
<li>Install with your package manager of choice:</li>
</ol>
<pre><code class="hljs language-sh">npm install snabbdom bs-snabbdom</code></pre>
<ol start="2">
<li>Let the Bucklescript compiler know about bs-snabbdom. Add the dependency to <code>bsconfig.json</code> in your project directory:</li>
</ol>
<pre><code class="hljs language-js">{
    <span class="hljs-comment">/* ... */</span>
    <span class="hljs-string">"bs-dependencies"</span> : [<span class="hljs-string">"bs-snabbdom"</span>],
    <span class="hljs-comment">/* ... */</span>
}</code></pre>
<h3 id="write-some-code"><a aria-hidden="true" href="#write-some-code"><span class="icon icon-link"></span></a>Write some code</h3>
<pre><code class="hljs language-ocaml"><span class="hljs-keyword">open</span> <span class="hljs-type">Snabbdom</span>.<span class="hljs-type">Base</span>

<span class="hljs-comment">(* Define a function that returns a new virtual dom node *)</span>
<span class="hljs-keyword">let</span> view title =
  h <span class="hljs-string">"div"</span> [
    style <span class="hljs-string">"box-shadow"</span> <span class="hljs-string">"0px 0px 10px black"</span>;
    children [
      h <span class="hljs-string">"h1"</span> [text (<span class="hljs-string">"Hello, "</span> ^ title ^ <span class="hljs-string">"!"</span>)];
      h <span class="hljs-string">"ol"</span> [children [
        h <span class="hljs-string">"li"</span> [text <span class="hljs-string">"Item 1"</span>];
        h <span class="hljs-string">"li"</span> [text <span class="hljs-string">"Item 2"</span>];
        h <span class="hljs-string">"li"</span> [text <span class="hljs-string">"Item 3"</span>];
      ]]
    ]
  ]

<span class="hljs-comment">(* Create a patch function from an array of Snabbdom modules *)</span>
<span class="hljs-keyword">let</span> patch = init [|module_style|]

<span class="hljs-comment">(* Patch a dom element with id "#app" to the new virtual dom node *)</span>
<span class="hljs-keyword">let</span> <span class="hljs-literal">()</span> = patch (<span class="hljs-type">VNode</span>.from_dom_id <span class="hljs-string">"app"</span>) (view <span class="hljs-string">"Snabbdom"</span>)</code></pre></div></div></div><div class="css-4o09c9"><div class="css-uhxnxi"><section><h1>Project</h1><ul><li><a href="https://github.com/redex/redex.github.io">Source Code Repository</a></li><li><a href="https://github.com/redex/redex.github.io/issues">Support / Bug Tracker</a></li><li><a href="/publish">Get Published</a></li></ul></section><section><h1>Made with</h1><ul><li><a href="https://npms.io/">npms.io</a></li><li><a href="https://www.gatsbyjs.org/">Gatsby</a></li><li><a href="https://reasonml.github.io/reason-react/">ReasonReact</a></li><li><a href="https://github.com/bucklescript/bucklescript">BuckleScript</a></li><li><a href="https://github.com/threepointone/glamor">glamor</a></li></ul></section><section><h1>Reason</h1><ul><li><a href="https://reasonml.github.io/">Reason Homepage</a></li><li><a href="https://reasonml.github.io/guide">Reason Guide</a></li><li><a href="https://reasonml.github.io/try">Reason Playground</a></li></ul></section><section><a href="https://www.algolia.com"><img class="css-c2fbi5" src="/search-by-algolia.svg"/></a></section></div></div></div></div><script id="PhenomicHydration" type="text/json">{"path=packages&id=bs-snabbdom":{"status":"idle","node":{"filename":"bs-snabbdom.json","type":"published","id":"bs-snabbdom","name":"bs-snabbdom","version":"0.4.2","description":"Bucklescript bindings to Snabbdom","author":"Jordan West","license":"MIT","keywords":[],"analyzed":"2017-12-11T00:46:21.942Z","updated":"2017-12-11T00:46:21.942Z","score":0.2575185667115005,"quality":0.4552935933164038,"popularity":0.012182348714036322,"maintenance":0.3333333333333333,"npmUrl":"https://www.npmjs.com/package/bs-snabbdom","docsUrl":null,"path":"packages/bs-snabbdom","body":"<h1 id=\"bucklescript--snabbdom\"><a aria-hidden=\"true\" href=\"#bucklescript--snabbdom\"><span class=\"icon icon-link\"></span></a>Bucklescript + Snabbdom</h1>\n<p>These are <em>experimental and incomplete</em> bindings to <a href=\"https://github.com/snabbdom/snabbdom\">Snabbdom</a> for <a href=\"http://bucklescript.github.io/bucklescript/\">Bucklescript</a>.</p>\n<p><a href=\"https://jordwest.github.io/bs-snabbdom/\">API Documentation</a></p>\n<h2 id=\"why\"><a aria-hidden=\"true\" href=\"#why\"><span class=\"icon icon-link\"></span></a>Why</h2>\n<p><a href=\"https://github.com/snabbdom/snabbdom\">Snabbdom</a> is a small, fast, functional and extensible virtual DOM library that meshes really well with OCaml. Using something like Snabbdom in OCaml can bring you the best parts of languages like Elm plus a tiny bundle size, without a complete architectural overhaul.</p>\n<p>If you're already working on a Snabbdom project in JavaScript, you can use these bindings to introduce OCaml for safer types and less runtime errors. Snabbdom components are just functions which return vnodes, so they're totally interchangeable between JavaScript and Bucklescript.</p>\n<p>This project was inspired by <a href=\"https://github.com/OvermindDL1/bucklescript-tea\">bucklescript-tea</a>, which provides an almost drop-in replacement of Elm for Bucklescript. I wanted something that provided a functional, type-safe declarative UI language, without adopting the entire Elm architecture. In contrast to Elm and bucklescript-tea, Snabbdom (and <code>bs-snabbdom</code>) does not provide a data model so you'll need to bring your own.</p>\n<h2 id=\"introduction\"><a aria-hidden=\"true\" href=\"#introduction\"><span class=\"icon icon-link\"></span></a>Introduction</h2>\n<p>This project adds basic OCaml bindings for Snabbdom functions, as well as an OCaml friendly replacement <code>h</code> function for constructing virtual dom nodes.</p>\n<p>In JavaScript, you might write something like the following:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">var</span> click_handler = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>) </span>{\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Clicked!'</span>, e);\n}\n\n<span class=\"hljs-keyword\">var</span> vnode = h(<span class=\"hljs-string\">'ul.my-list'</span>, {<span class=\"hljs-attr\">style</span>: {<span class=\"hljs-string\">'list-style'</span>: <span class=\"hljs-string\">'none'</span>}}, [\n    h(<span class=\"hljs-string\">'li'</span>, {<span class=\"hljs-attr\">on</span>: {<span class=\"hljs-attr\">click</span>: click_handler}}, <span class=\"hljs-string\">'First item'</span>)]),\n    h(<span class=\"hljs-string\">'li'</span>, <span class=\"hljs-string\">'Second item'</span>),\n]);</code></pre>\n<p>In OCaml with bs-snabbdom, the equivalent is:</p>\n<pre><code class=\"hljs language-ocaml\"><span class=\"hljs-keyword\">let</span> click_handler e =\n    <span class=\"hljs-type\">Js</span>.log2 <span class=\"hljs-string\">\"Clicked!\"</span> e\n<span class=\"hljs-keyword\">in</span>\n\n<span class=\"hljs-keyword\">let</span> vnode = h <span class=\"hljs-string\">\"ul.my-list\"</span> [style <span class=\"hljs-string\">\"list-style\"</span> <span class=\"hljs-string\">\"none\"</span>; children [\n    h <span class=\"hljs-string\">\"li\"</span> [click click_handler; text <span class=\"hljs-string\">\"First item\"</span>;]\n    h <span class=\"hljs-string\">\"li\"</span> [text <span class=\"hljs-string\">\"Second item\"</span>];\n]]</code></pre>\n<p>The main difference when compared to JavaScript is that the <code>h</code> function here always takes two arguments:</p>\n<pre><code class=\"hljs language-ocaml\">h : <span class=\"hljs-built_in\">string</span> -> vnode_transformer <span class=\"hljs-built_in\">list</span> -> vnode</code></pre>\n<p>The first parameter - the element selector (eg: <code>\"ul.my-list\"</code>) - remains the same.</p>\n<p>The second parameter takes a list of transformer functions. These transformers describe how to alter the vnode - whether that's setting a property on the <code>data</code> object, adding children, or setting the node's text.</p>\n<h2 id=\"getting-started\"><a aria-hidden=\"true\" href=\"#getting-started\"><span class=\"icon icon-link\"></span></a>Getting started</h2>\n<h3 id=\"install-bucklescript\"><a aria-hidden=\"true\" href=\"#install-bucklescript\"><span class=\"icon icon-link\"></span></a>Install Bucklescript</h3>\n<p>If you're starting from scratch, or adding bucklescript to an existing JavaScript project, you'll first need to install the Bucklescript compiler:</p>\n<pre><code class=\"hljs language-sh\">npm install bs-platform\n./node_modules/.bin/bsb -init .</code></pre>\n<p>See the <a href=\"http://bucklescript.github.io/bucklescript/\">Bucklescript docs</a> for more details.</p>\n<h3 id=\"install-bs-snabbdom-and-snabbdom\"><a aria-hidden=\"true\" href=\"#install-bs-snabbdom-and-snabbdom\"><span class=\"icon icon-link\"></span></a>Install <code>bs-snabbdom</code> and <code>snabbdom</code></h3>\n<ol>\n<li>Install with your package manager of choice:</li>\n</ol>\n<pre><code class=\"hljs language-sh\">npm install snabbdom bs-snabbdom</code></pre>\n<ol start=\"2\">\n<li>Let the Bucklescript compiler know about bs-snabbdom. Add the dependency to <code>bsconfig.json</code> in your project directory:</li>\n</ol>\n<pre><code class=\"hljs language-js\">{\n    <span class=\"hljs-comment\">/* ... */</span>\n    <span class=\"hljs-string\">\"bs-dependencies\"</span> : [<span class=\"hljs-string\">\"bs-snabbdom\"</span>],\n    <span class=\"hljs-comment\">/* ... */</span>\n}</code></pre>\n<h3 id=\"write-some-code\"><a aria-hidden=\"true\" href=\"#write-some-code\"><span class=\"icon icon-link\"></span></a>Write some code</h3>\n<pre><code class=\"hljs language-ocaml\"><span class=\"hljs-keyword\">open</span> <span class=\"hljs-type\">Snabbdom</span>.<span class=\"hljs-type\">Base</span>\n\n<span class=\"hljs-comment\">(* Define a function that returns a new virtual dom node *)</span>\n<span class=\"hljs-keyword\">let</span> view title =\n  h <span class=\"hljs-string\">\"div\"</span> [\n    style <span class=\"hljs-string\">\"box-shadow\"</span> <span class=\"hljs-string\">\"0px 0px 10px black\"</span>;\n    children [\n      h <span class=\"hljs-string\">\"h1\"</span> [text (<span class=\"hljs-string\">\"Hello, \"</span> ^ title ^ <span class=\"hljs-string\">\"!\"</span>)];\n      h <span class=\"hljs-string\">\"ol\"</span> [children [\n        h <span class=\"hljs-string\">\"li\"</span> [text <span class=\"hljs-string\">\"Item 1\"</span>];\n        h <span class=\"hljs-string\">\"li\"</span> [text <span class=\"hljs-string\">\"Item 2\"</span>];\n        h <span class=\"hljs-string\">\"li\"</span> [text <span class=\"hljs-string\">\"Item 3\"</span>];\n      ]]\n    ]\n  ]\n\n<span class=\"hljs-comment\">(* Create a patch function from an array of Snabbdom modules *)</span>\n<span class=\"hljs-keyword\">let</span> patch = init [|module_style|]\n\n<span class=\"hljs-comment\">(* Patch a dom element with id \"#app\" to the new virtual dom node *)</span>\n<span class=\"hljs-keyword\">let</span> <span class=\"hljs-literal\">()</span> = patch (<span class=\"hljs-type\">VNode</span>.from_dom_id <span class=\"hljs-string\">\"app\"</span>) (view <span class=\"hljs-string\">\"Snabbdom\"</span>)</code></pre>"}}}</script><script>window._glam = ["1tsxiyg","1n3mti3","3xwse6","h28iaj","17jpuwa","1y9oups","16r2wsi","1rq3syy","1ko2xl5","7hsp6e","iy895t","1sgndlo","dozz8","1hlgm7j","9ceowk","uxcia4","1frm6vc","uhxnxi","c2fbi5","1l4v2hy","1yu5lzr","14dfss7","xovze3","b8z1fx","1i32x9d","1kdo33z","1js2gtb","qkolrv","1hx69qk","u7agnl","18pdsvr","1k72ztx","10scxmb","62bqch","1yvpfy9","4o09c9","l4x72g"]</script><script src="/phenomic/phenomic.main.a75d70f9.js" async=""></script></body></html>